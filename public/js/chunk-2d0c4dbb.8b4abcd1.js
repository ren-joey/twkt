(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4dbb"],{"3d2f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.UserInfo&&"Y"===e.UserInfo.is_login?a("v-app",[a("Navigation"),a("Header"),a("Material"),a("DialogContact")],1):e._e()},n=[],s=a("5530"),l=a("2f62"),r=a("ad1b"),d=a("608b"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",{scopedSlots:e._u([{key:"prepend",fn:function(){return[a("v-list-item",{attrs:{twoLine:""}},[a("v-list-item-avatar",[a("img",{attrs:{src:"https://randomuser.me/api/portraits/women/81.jpg"}})]),a("v-list-item-content",[a("v-list-item-title",[e._v("Jane Smith")]),a("v-list-item-subtitle",[e._v("Logged In")])],1)],1)]},proxy:!0}])},[a("v-container",[a("v-breadcrumbs",{attrs:{items:e.history},scopedSlots:e._u([{key:"divider",fn:function(){return[a("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0}])}),a("MaterialTable",{attrs:{subtitle:e.subtitle}}),"user"!==e.PermissionName&&"guest"!==e.PermissionName?a("v-btn",{attrs:{bottom:"",color:"pink",dark:"",fab:"",fixed:"",right:""},on:{click:function(t){return e.bus.$emit("dialogAddMaterial")}}},[a("v-icon",[e._v("mdi-plus")])],1):e._e()],1),a("DialogAddMaterial")],1)},c=[],m=a("f5ef"),u=a("b694"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto my-4",attrs:{width:"100%"}},[a("v-card-title",{staticClass:"headline d-flex justify-space-between align-center"},[a("div",{staticClass:"d-flex align-center"},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-semantic-web")]),e._v(" "+e._s(e.subtitle)+" ")],1),"user"!==e.PermissionName&&"guest"!==e.PermissionName?a("div",{staticClass:"mr-4"},[a("v-btn",{attrs:{fab:"",dark:"",color:"pink",small:""},on:{click:function(t){return e.bus.$emit("dialogAddMaterial",e.id)}}},[a("v-icon",[e._v("mdi-plus")])],1)],1):e._e()]),a("v-card-text",[a("v-divider"),a("v-data-table",{attrs:{headers:e.headers,items:e.Materials,singleExpand:e.singleExpand,expanded:e.expanded,showExpand:"",itemKey:"serial_number",showSelect:"agent"===e.PermissionName||"admin"===e.PermissionName},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{maxWidth:"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{loading:"Y"===e.Fetching.actionEditMaterial}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Dessert name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Calories"},model:{value:e.editedItem.calories,callback:function(t){e.$set(e.editedItem,"calories",t)},expression:"editedItem.calories"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fat (g)"},model:{value:e.editedItem.fat,callback:function(t){e.$set(e.editedItem,"fat",t)},expression:"editedItem.fat"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Carbs (g)"},model:{value:e.editedItem.carbs,callback:function(t){e.$set(e.editedItem,"carbs",t)},expression:"editedItem.carbs"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Protein (g)"},model:{value:e.editedItem.protein,callback:function(t){e.$set(e.editedItem,"protein",t)},expression:"editedItem.protein"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1)]},proxy:!0},"user"!==e.PermissionName&&"guest"!==e.PermissionName?{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}:null,{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{attrs:{colspan:e.headers.length}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[e._v(" 專利 "),a("v-divider"),e._v(" "+e._s(i.patent)+" ")],1),a("v-col",{attrs:{cols:"4"}},[e._v(" 認證 "),a("v-divider"),e._v(" "+e._s(i.certification)+" ")],1),a("v-col",{attrs:{cols:"4"}},[e._v(" 臨床研究/文獻 "),a("v-divider"),e._v(" "+e._s(i.report)+" ")],1)],1)],1)]}}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},f=[],p=(a("c975"),a("a434"),{props:{id:{type:String,default:""},subtitle:{type:String,default:""}},data:function(){return{bus:m["a"],dialog:!1,singleSelect:!1,selected:[],singleExpand:!1,expanded:[],editedIndex:-1,editedItem:{material_id:"",material_name:"",material_source:"",material_spec_1:"",material_spec_2:"",material_origin:"",material_patent:"",material_certification:"",material_clinic:"",material_fn:""}}},computed:Object(s["a"])(Object(s["a"])({formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},headers:function(){return"user"===this.PermissionName||"guest"===this.PermissionName?[{text:"編號",align:"start",value:"serial_number"},{text:"原料名稱",value:"name"},{text:"來源",value:"origin_name"},{text:"規格1",value:"spec_1"},{text:"規格2",value:"spec_2"},{text:"產地",value:"origin"},{text:"功能",value:"function"},{text:"",value:"data-table-expand"}]:[{text:"編號",align:"start",value:"serial_number"},{text:"原料名稱",value:"name"},{text:"來源",value:"origin_name"},{text:"規格1",value:"spec_1"},{text:"規格2",value:"spec_2"},{text:"產地",value:"origin"},{text:"功能",value:"function"},{text:"操作",value:"actions",sortable:!1},{text:"",value:"data-table-expand"}]}},Object(l["c"])({PermissionName:"getPermissionName"})),Object(l["d"])(["Fetching","Materials","UserInfo"])),watch:{dialog:function(e){e||this.close()}},mounted:function(){0===this.Materials.length&&this.$store.dispatch("actionFetchMaterials")},methods:{editItem:function(e){this.editedIndex=this.materials.indexOf(e),this.editedItem=Object(s["a"])({},e),this.dialog=!0},deleteItem:function(e){var t=window,a=t.confirm,i=this.materials.indexOf(e);a("Are you sure you want to delete this item?")&&this.materials.splice(i,1)},close:function(){var e=this;this.dialog=!1,setTimeout((function(){e.editedItem=Object(s["a"])({},e.defaultItem),e.editedIndex=-1}),300)},save:function(){var e=this;this.fetching.editMaterial="Y",setTimeout((function(){e.fetching.editMaterial="N",e.editedIndex>-1?Object.assign(e.materials[e.editedIndex],e.editedItem):e.materials.push(e.editedItem),e.close()}),2e3)}}}),b=p,x=a("2877"),g=a("6544"),_=a.n(g),h=a("8336"),I=a("b0af"),k=a("99d9"),V=a("62ad"),w=a("a523"),C=a("8fea"),j=a("169a"),N=a("ce7e"),O=a("132d"),y=a("0fd9"),M=a("2fa4"),P=a("8654"),S=Object(x["a"])(b,v,f,!1,null,null,null),T=S.exports;_()(S,{VBtn:h["a"],VCard:I["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VCol:V["a"],VContainer:w["a"],VDataTable:C["a"],VDialog:j["a"],VDivider:N["a"],VIcon:O["a"],VRow:y["a"],VSpacer:M["a"],VTextField:P["a"]});var $={components:{DialogAddMaterial:u["a"],MaterialTable:T},data:function(){return{bus:m["a"],subtitle:"總覽",history:[{text:"原物料"},{text:"總覽"}]}},computed:Object(s["a"])(Object(s["a"])({},Object(l["c"])({PermissionName:"getPermissionName"})),Object(l["d"])(["Materials"]))},E=$,A=a("2bc5"),D=a("da13"),L=a("8270"),F=a("5d23"),U=a("f6c4"),B=Object(x["a"])(E,o,c,!1,null,null,null),J=B.exports;_()(B,{VBreadcrumbs:A["a"],VBtn:h["a"],VContainer:w["a"],VIcon:O["a"],VListItem:D["a"],VListItemAvatar:L["a"],VListItemContent:F["a"],VListItemSubtitle:F["b"],VListItemTitle:F["c"],VMain:U["a"]});var Y=a("dc50"),H={components:{Navigation:d["a"],Header:r["a"],Material:J,DialogContact:Y["a"]},computed:Object(s["a"])({},Object(l["d"])(["UserInfo"]))},K=H,R=a("7496"),W=Object(x["a"])(K,i,n,!1,null,null,null);t["default"]=W.exports;_()(W,{VApp:R["a"]})}}]);
//# sourceMappingURL=chunk-2d0c4dbb.8b4abcd1.js.map